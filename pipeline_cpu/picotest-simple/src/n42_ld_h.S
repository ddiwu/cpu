#include "asm.h"
#include "regdef.h"
#include "inst_test.h"

LEAF(n42_ld_h_test)
    addi.w  s3, s3, 1
    addi.w s0, s0 ,1
    li.w  s2, 0x0
###test inst
    TEST_LD_H(0x51842560, 0x1c0d2bc4, 0x000027c, 0x000027c, 0x00002560)
    TEST_LD_H(0x2516116e, 0x1c0d2220, 0x0000890, 0x0000890, 0x0000116e)
    TEST_LD_H(0x4932330c, 0x1c0d3810, 0x0000526, 0x0000524, 0x00004932)
    TEST_LD_H(0xbe4d9ac8, 0x1c0dac60, 0x0000092, 0x0000090, 0xffffbe4d)
    TEST_LD_H(0x5f0c0856, 0x1c0d1800, 0x0000964, 0x0000964, 0x00000856)
    TEST_LD_H(0xbfa5bc80, 0x1c0d9ca0, 0x0000950, 0x0000950, 0xffffbc80)
    TEST_LD_H(0x67b0ca80, 0x1c0db258, 0x0000f74, 0x0000f74, 0xffffca80)
    TEST_LD_H(0xb0c4ee88, 0x1c0d0a08, 0x00009d4, 0x00009d4, 0xffffee88)
    TEST_LD_H(0xa28fbedc, 0x1c0d130c, 0x0000f28, 0x0000f28, 0xffffbedc)
    TEST_LD_H(0x01589400, 0x1c0d3568, 0x0000f36, 0x0000f34, 0x00000158)
    TEST_LD_H(0x20483e02, 0x1c0dd600, 0x0000e7c, 0x0000e7c, 0x00003e02)
###detect exception
    beq s2, zero, inst_correct
    beq zero, zero, inst_fail
END(n42_ld_h_test)
